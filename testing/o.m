clf;

x = [0 10 20 30 40 50 60 70 80 90 100];
y = [0 10 20 30 40 50 60 70 80 90 100];
O = [0 160 320 480 640 800 960 1120 1280 1440 1600 ;
     0 13728 24432 35136 45824 56368 67072 77776 88464 99008 109712 ;
     0 27264 48496 69744 90976 111904 133136 154384 175616 196544 217792 ;
     0 40784 72576 104352 136128 167424 199216 230992 262784 294080 325856 ;
     0 54320 96640 138960 181280 222976 265296 307616 349936 391616 433936 ;
     0 67856 120704 173568 226432 278496 331360 384224 437088 489152 542016 ;
     0 81376 144784 208176 271584 334032 397424 460832 524240 586672 650080 ;
     0 94912 168848 242800 316736 389552 463504 537456 611392 684224 758160 ;
     0 108448 192928 277408 361888 445104 529584 614064 698544 781744 866240 ;
     0 121968 216992 312016 407040 500624 595648 690672 785696 879280 974304 ;
     0 135504 241072 346624 452192 556160 661728 767280 872864 976816 1082384];

eps = 347; S_f = 32; S_B = 4; S_K = 32; S_IV = 16; S_M = 5;
%%x = 1:10:100; y = 1:10:100;
[X,Y] = meshgrid(x, y);
%%O = X .* Y .* (2 .* S_f + S_B + S_K + S_M) + Y .* eps + X .* S_IV;

O /= 1000;

surf(X, Y, O);
xlabel("Number of files")
ylabel("Number of users")
zlabel("Size in KB")

zlim([0, O(end)]);

saveas(gca, "./test_sharing_cost_3d.pdf");
